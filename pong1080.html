<canvas height="300" width="300"><script>c=document.querySelector("canvas");c.style.backgroundColor="grey";document.body.style.backgroundColor="black";x=c.getContext("2d");b=[130,20,10,10];p1=[120,10,30,10];p2=[120,280,30,10];o=[b,p1,p2];di="d";s=0;s1=0;s2=0;d=()=>{x.clearRect(0,0,300,300);x.fillStyle="white";x.font="15px monospace";x.fillText(s1,10,19);x.fillText(s2,10,290);o.forEach(e=>x.fillRect.apply(x,e));(b[1]<20&&b[0]==p1[0])?(s=-2,di="d"):(b[1]<20&&b[0]==p1[0]+10)?di="d":(b[1]<20&&b[0]==p1[0]+20)?(s=2,di="d"):(b[1]>270&&b[0]==p2[0])?(s=-2,di="u"):(b[1]>270&&b[0]==p2[0]+10)?di="u":(b[1]>270&&b[0]==p2[0]+20)?(s=2,di="u"):(b[0]<0)?s=2:(b[0]>290)?s=-2:(b[1]>300)?(s1++,cl()):(b[1]<0)?(s2++,cl()):null;m(di);requestAnimationFrame(d)};m=(di)=>{(di=="d")?(b[1]+=2,b[0]+=s):(b[1]-=2,b[0]+=s)};cl=()=>{s=0;di="d";b[0]=130;b[1]=20;p1[0]=120;p1[1]=10;p2[0]=120;p2[1]=280};document.addEventListener("keydown",function(e){(e.key=="ArrowLeft")?p2[0]-=10:(e.key=="ArrowRight")?p2[0]+=10:(e.key=="x")?p1[0]-=10:(e.key=="c")?p1[0]+=10:null});requestAnimationFrame(d)</script>
